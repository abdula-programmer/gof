(this.webpackJsonpgame_film=this.webpackJsonpgame_film||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r,a,c,s,o,i,u,l,j,h=n(1),d=n.n(h),b=n(30),p=n.n(b),f=n(2),O=n(3),x=n(5),m=n(4),v=n(9),g=n(10),y=n(15),w=n(0),k=g.a.div(r||(r=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  \n\n  h1 {\n    font-size: 30px;\n  }\n  \n  a {\n    color: white;\n    text-decoration: none;\n  }\n  ul{\n    \n    display: flex;\n  }\n\n  li {\n    \n    list-style-type: none;\n    margin-left: 15px;\n    text-decoration: none;\n  }\n"]))),S=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(k,{children:[Object(w.jsx)(y.b,{to:"/",exact:!0,children:Object(w.jsx)("h1",{children:"Game of Thrones DB"})}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)(y.b,{to:"/characters/",children:"Characters"})}),Object(w.jsx)("li",{children:Object(w.jsx)(y.b,{to:"/houses/",children:"Houses"})}),Object(w.jsx)("li",{children:Object(w.jsx)(y.b,{to:"/books/",children:"Books"})})]})]})}}]),n}(h.Component),C=n(8),I=n.n(C),D=n(16),A=function(){function e(){var t=this;Object(f.a)(this,e),this.getResource=function(){var e=Object(D.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(n)+", received ".concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllBooks=Object(D.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformBook));case 4:case"end":return e.stop()}}),e)}))),this.getBook=function(){var e=Object(D.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/books/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t._transformBook(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllCharacters=Object(D.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters?page=5&pageSize=10");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformCharacter));case 4:case"end":return e.stop()}}),e)}))),this.getCharacter=function(){var e=Object(D.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/characters/".concat(n));case 2:return r=e.sent,e.abrupt("return",t._transformCharacter(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllHouses=Object(D.a)(I.a.mark((function e(){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/");case 2:return n=e.sent,e.abrupt("return",n.map(t._transformHouse));case 4:case"end":return e.stop()}}),e)}))),this.getHouse=function(){var e=Object(D.a)(I.a.mark((function e(n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/houses/".concat(n,"/"));case 2:return r=e.sent,e.abrupt("return",t._transformHouse(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._extractId=function(e){return e.url.match(/\/([0-9]*)$/)[1]},this._transformCharacter=function(e){return{id:t._extractId(e),name:t.isSet(e.name),gender:t.isSet(e.gender),born:t.isSet(e.born),died:t.isSet(e.died),culture:t.isSet(e.culture)}},this._transformHouse=function(e){return{id:t._extractId(e),name:t.isSet(e.name),region:t.isSet(e.region),words:t.isSet(e.words),titles:t.isSet(e.titles),ancestralWeapons:t.isSet(e.ancestralWeapons)}},this._transformBook=function(e){return{id:t._extractId(e),name:t.isSet(e.name),numberOfPages:t.isSet(e.numberOfPages),publisher:t.isSet(e.publisher),released:t.isSet(e.released)}},this._apiBase="https://www.anapioficeandfire.com/api"}return Object(O.a)(e,[{key:"isSet",value:function(e){return e||"no data :("}}]),e}(),B=(n(52),function(){return Object(w.jsx)("div",{class:"loadingio-spinner-spinner-hjnufr9jtt ",children:Object(w.jsxs)("div",{class:"ldio-6et32bpdfue ",children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})})}),_=function(){return Object(w.jsx)("span",{children:"Something goes wrong"})},N=g.a.h4(a||(a=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n"]))),H=g.a.div(c||(c=Object(v.a)(["\n  border-radius: 6px;\n  padding: 15px;\n  margin-top: 20px;\n  background-color: white;\n"]))),R=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={char:{},loading:!0,error:!1},e.onError=function(t){e.setState({error:!0,loading:!1})},e.onCharLoder=function(t){e.setState({char:t,loading:!1})},e.updateChar=function(){var t=Math.floor(140*Math.random()+25);e.gotService.getCharacter(t).then(e.onCharLoder).catch(e.onError)},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateChar(),this.timerId=setInterval((function(){e.updateChar()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateChar)}},{key:"render",value:function(){var e=this.state,t=e.char,n=e.loading,r=e.error,a=r?Object(w.jsx)(_,{}):null,c=n?Object(w.jsx)(B,{}):null,s=n||r?null:Object(w.jsx)(E,{char:t});return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(H,{children:[a,c,s]})})}}]),n}(h.Component),E=function(e){var t=e.char,n=t.name,r=t.died,a=t.gender,c=t.born,s=t.culture,o=t.noData;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(N,{children:["Characters: ",n]}),Object(w.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(w.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(w.jsx)("span",{children:"Gender"}),Object(w.jsx)("span",{children:a||o})]}),Object(w.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(w.jsx)("span",{children:"Born"}),Object(w.jsx)("span",{children:c||o})]}),Object(w.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(w.jsx)("span",{children:"Died"}),Object(w.jsx)("span",{children:r||o})]}),Object(w.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(w.jsx)("span",{children:"Culture"}),Object(w.jsx)("span",{children:s||o})]})]})]})},L=n(56),M=n(57),P=g.a.div(s||(s=Object(v.a)(["\n  border-radius: 6px;\n  padding: 15px;\n  margin-top: 20px;\n  background-color: white;\n"]))),W=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={itemList:null},e}return Object(O.a)(n,[{key:"renderItems",value:function(e){var t=this;return e.map((function(e){var n=e.id,r=t.props.renderItem(e);return Object(w.jsx)("li",{className:"list-group-item d-flex justify-content-between",onClick:function(){return t.props.onItemSelected(n)},children:r},n)}))}},{key:"componentDidMount",value:function(){var e=this;(0,this.props.gotData)().then((function(t){e.setState({itemList:t})}))}},{key:"render",value:function(){var e=this.state.itemList;if(!e)return Object(w.jsx)(B,{});var t=this.renderItems(e);return Object(w.jsx)(P,{children:Object(w.jsx)("ul",{className:"list-group list-group-flush",children:t})})}}]),n}(h.Component),z=n(6),G=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={error:!1},e}return Object(O.a)(n,[{key:"componentDidCath",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return Object(w.jsx)(W,{onItemSelected:function(t){e.props.history.push("/characters/".concat(t))},gotData:this.gotService.getAllCharacters,renderItem:function(e){var t=e.name;return"".concat(t)}})}}]),n}(h.Component),F=Object(z.e)(G),J=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={error:!1},e}return Object(O.a)(n,[{key:"componentDidCath",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return Object(w.jsx)(W,{onItemSelected:function(t){e.props.history.push("/books/".concat(t))},gotData:this.gotService.getAllBooks,renderItem:function(e){var t=e.name;return"".concat(t)}})}}]),n}(h.Component),T=Object(z.e)(J),U=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={error:!1},e}return Object(O.a)(n,[{key:"componentDidCath",value:function(){this.setState({error:!0})}},{key:"render",value:function(){var e=this;return Object(w.jsx)(W,{onItemSelected:function(t){e.props.history.push("/houses/".concat(t))},gotData:this.gotService.getAllHouses,renderItem:function(e){var t=e.name;return"".concat(t)}})}}]),n}(h.Component),$=Object(z.e)(U),q=g.a.span(o||(o=Object(v.a)(["\n  font-size: 25px;\n  color: white;\n"]))),K=g.a.div(i||(i=Object(v.a)(["\n  border-radius: 6px;\n  padding: 15px;\n  margin-top: 20px;\n  background-color: white;\n"]))),Q=g.a.h4(u||(u=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n"]))),V=function(e){var t=e.item,n=e.field,r=e.label;return Object(w.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[Object(w.jsx)("span",{children:r}),Object(w.jsx)("span",{children:t[n]})]})},X=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).getService=new A,e.state={item:null},e.updateItem=function(){var t=e.props,n=t.itemId,r=t.gotData;console.log(n),n&&r(n).then((function(t){e.setState({item:t})}))},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){this.props.itemId!==e.itemId&&this.updateItem()}},{key:"render",value:function(){if(!this.state.item)return Object(w.jsx)(q,{children:"Please, select a character."});var e=this.state.item,t=e.name;return Object(w.jsxs)(K,{children:[Object(w.jsx)(Q,{children:t}),Object(w.jsx)("ul",{className:"list-group list-group-flush",children:d.a.Children.map(this.props.children,(function(t){return d.a.cloneElement(t,{item:e})}))})]})}}]),n}(h.Component),Y=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={selectedBook:3},e}return Object(O.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(X,{itemId:this.props.bookId,gotData:this.gotService.getBook,children:[Object(w.jsx)(V,{field:"name",label:"Name"}),Object(w.jsx)(V,{field:"numberOfPages",label:"Number of pages"}),Object(w.jsx)(V,{field:"publisher",label:"Publisher"}),Object(w.jsx)(V,{field:"released",label:"Released"})]})}}]),n}(h.Component),Z=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e}return Object(O.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(X,{gotData:this.gotService.getCharacter,itemId:this.props.charId,children:[Object(w.jsx)(V,{field:"gender",label:"Gender"}),Object(w.jsx)(V,{field:"born",label:"Born"}),Object(w.jsx)(V,{field:"died",label:"Died"}),Object(w.jsx)(V,{field:"culture",label:"Culture"})]})}}]),n}(h.Component),ee=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).gotService=new A,e.state={error:!1},e}return Object(O.a)(n,[{key:"componentDidCath",value:function(){this.setState({error:!0})}},{key:"render",value:function(){return Object(w.jsxs)(X,{gotData:this.gotService.getHouse,itemId:this.props.houseId,children:[Object(w.jsx)(V,{field:"name",label:"Name"}),Object(w.jsx)(V,{field:"region",label:"Region"}),Object(w.jsx)(V,{field:"words",label:"Words"}),Object(w.jsx)(V,{field:"titles",label:"Titles"}),Object(w.jsx)(V,{field:"ancestralWeapons",label:"Ancestral weapons"})]})}}]),n}(h.Component),te=Object(z.e)(ee),ne=g.a.div(l||(l=Object(v.a)(["\n  margin-top: 25pt;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 1000px;\n"]))),re=g.a.button(j||(j=Object(v.a)(["\n    margin-top: 10px;\n    width: 100%;\n    height: 35px;\n    border-radius: 6px;\n    border: none;\n    background-color: blue;\n    justify-content: center;\n    font-size:25px;\n    color: white;\n"]))),ae=function(e){Object(x.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(f.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={selectedChar:130,show:!0,error:!1},e.onButton=function(){e.setState({show:!e.state.show})},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.state.show,t=e?Object(w.jsx)(R,{}):null,n=e?"Hide":"Show";return this.state.error?Object(w.jsx)(_,{}):Object(w.jsx)(y.a,{children:Object(w.jsxs)(ne,{children:[Object(w.jsx)(S,{}),Object(w.jsx)(L.a,{children:Object(w.jsxs)(M.a,{md:5,children:[t,Object(w.jsx)(re,{onClick:this.onButton,children:n})]})}),Object(w.jsx)(z.a,{exact:!0,path:"/houses",component:$}),Object(w.jsx)(z.a,{path:"/houses/:id",render:function(e){var t=e.match.params.id;return Object(w.jsx)(te,{houseId:t})}}),Object(w.jsx)(z.a,{exact:!0,path:"/characters",component:F}),Object(w.jsx)(z.a,{path:"/characters/:id",render:function(e){var t=e.match.params.id;return Object(w.jsx)(Z,{charId:t})}}),Object(w.jsx)(z.a,{exact:!0,path:"/books",component:T}),Object(w.jsx)(z.a,{path:"/books/:id",render:function(e){var t=e.match.params.id;return Object(w.jsx)(Y,{bookId:t})}})]})})}}]),n}(h.Component);n(53);p.a.render(Object(w.jsx)(ae,{}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.7ca869b6.chunk.js.map